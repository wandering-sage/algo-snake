(self.webpackChunkalgo_snake=self.webpackChunkalgo_snake||[]).push([[179],{162:function(){"use strict";var e={canvasW:1140,canvasH:600,scale:20,growth:4,gameSpeed:20,initSnakeX:4,initSnakeY:2,initSnakeLen:3,headX:0,headY:0,initSnakeTail:[{x:0,y:-100},{x:0,y:-100},{x:0,y:-100}],tail:[],AppleX:160,AppleY:160,xSpeed:1,ySpeed:0,direction:"r",gameOver:!1,isRunning:!1},a=e.initSnakeX*e.scale,n=e.initSnakeY*e.scale;e.tail=e.initSnakeTail.slice(0);var t=e.initSnakeLen,c=0;function s(a){return e.tail.reduce((function(e,n){return e||n.x==a.x&&n.y==a.y}),!1)}var r={draw:function(t){switch(t.fillStyle="#ddd",e.tail.forEach((function(a){t.fillRect(a.x,a.y,e.scale,e.scale)})),t.fillStyle="#ac2c2c",t.fillRect(e.AppleX,e.AppleY,e.scale,e.scale),t.beginPath(),e.direction){case"l":t.moveTo(a+e.scale,n),t.lineTo(a,n),t.lineTo(a+e.scale/2,n+e.scale/2),t.lineTo(a,n+e.scale),t.lineTo(a+e.scale,n+e.scale);break;case"r":t.moveTo(a,n),t.lineTo(a+e.scale,n),t.lineTo(a+e.scale/2,n+e.scale/2),t.lineTo(a+e.scale,n+e.scale),t.lineTo(a,n+e.scale);break;case"u":t.moveTo(a,n+e.scale),t.lineTo(a,n),t.lineTo(a+e.scale/2,n+e.scale/2),t.lineTo(a+e.scale,n),t.lineTo(a+e.scale,n+e.scale);break;case"d":t.moveTo(a,n),t.lineTo(a,n+e.scale),t.lineTo(a+e.scale/2,n+e.scale/2),t.lineTo(a+e.scale,n+e.scale),t.lineTo(a+e.scale,n)}t.closePath(),t.fillStyle="#ddd",t.fill()},update:function(){if(s({x:a,y:n}))return e.gameOver=!0,"Over";if(n<0||a<0||a>=e.canvasW||n>=e.canvasH)return e.gameOver=!0,"Over";for(var r,l={x:a,y:n},i=0;i<t;i++){var o=[e.tail[i],l];l=o[0],e.tail[i]=o[1]}c>0&&(e.tail[t]=l,t++,c--),a==e.AppleX&&n==e.AppleY&&(r=Number(u.innerText),r+=10,r=String(r),u.innerText="0".repeat(5-r.length)+r,c+=e.growth,e.tail[t]=l,t++,c--,function(){var a={};for(a.x=Math.floor(Math.random()*(e.canvasW/e.scale))*e.scale,a.y=Math.floor(Math.random()*(e.canvasH/e.scale))*e.scale;s(a);)a.x=Math.floor(Math.random()*(e.canvasW/e.scale))*e.scale,a.y=Math.floor(Math.random()*(e.canvasH/e.scale))*e.scale;e.AppleX=a.x,e.AppleY=a.y}()),a+=e.xSpeed*e.scale,n+=e.ySpeed*e.scale,e.headX=a,e.headY=n},onSnake:s,respawn:function(){a=e.initSnakeX*e.scale,n=e.initSnakeY*e.scale,e.tail=e.initSnakeTail.slice(0),t=e.initSnakeLen,e.direction="r",e.xSpeed=1,e.ySpeed=0,c=0,u.innerText="00000"}},l=document.createElement("canvas");l.height=e.canvasH,l.width=e.canvasW;var i,o=l.getContext("2d");var d,u=document.createElement("div");function p(){d=0;for(var a=[],n=[],t=0;t<e.canvasW/e.scale;t++){n[t]=[];for(var c=0;c<e.canvasH/e.scale;c++)n[t][c]=!1}a.push({x:e.headX,y:e.headY,parent:"head",f:Math.abs(e.headX/e.scale-e.AppleX/e.scale)+Math.abs(e.headY/e.scale-e.AppleY/e.scale),g:0}),n[e.headX/e.scale][e.headY/e.scale]=!0;for(var s=!1;a.length>0;){var r=0,l=a.reduce((function(e,a,n){return r=e.f<a.f?r:n,e.f<a.f?e:a}));if(a.splice(r,1),setTimeout(f,d,l,"#D3868C"),d+=10,y(l).every((function(t){return t.x==e.AppleX&&t.y==e.AppleY?(t.parent=l,s=t,!1):(n[t.x/e.scale][t.y/e.scale]||(n[t.x/e.scale][t.y/e.scale]=!0,h(t),t.parent=l,a.push(t)),!0)})),s){v(s);break}}}function v(e){if("head"==e.parent)return setTimeout(f,d,e,"#2B8C34"),void(d+=20);v(e.parent),setTimeout(f,d,e,"#2B8C34"),d+=20}function f(a,n){var t=a.x,c=a.y;o.fillStyle=n,o.fillRect(t,c,e.scale,e.scale),r.draw(o)}function h(a){a.h=Math.abs(a.x/e.scale-e.AppleX/e.scale)+Math.abs(a.y/e.scale-e.AppleY/e.scale),a.f=a.g+a.h}function y(a){var n=a.x,t=a.y,c=a.g;if(n<0||t<0||n>=e.canvasW||t>=e.canvasH)return[];var s=[],l={x:n-e.scale,y:t,g:c+1},i={x:n+e.scale,y:t,g:c+1},o={x:n,y:t-e.scale,g:c+1},d={x:n,y:t+e.scale,g:c+1};return o.y>=0&&!r.onSnake(o)&&s.push(o),i.x<e.canvasW&&!r.onSnake(i)&&s.push(i),o.y<e.canvasH&&!r.onSnake(d)&&s.push(d),l.x>=0&&!r.onSnake(l)&&s.push(l),s}function m(a){var n,t=e.headX,c=e.headY,s=1e3/e.gameSpeed;n=function(e,a){return 0==e&&1==a?"KeyS":0==e&&-1==a?"KeyW":1==e&&0==a?"KeyD":-1==e&&0==a?"KeyA":void 0}((a.x-t)/e.scale,(a.y-c)/e.scale),window.dispatchEvent(new KeyboardEvent("keydown",{code:n})),setTimeout(S,s)}function x(e){for(var a;"head"!=e.parent;)a=e,e=e.parent;return a}function S(){for(var a=[],n=[],t=0;t<e.canvasW/e.scale;t++){n[t]=[];for(var c=0;c<e.canvasH/e.scale;c++)n[t][c]=!1}a.push({x:e.headX,y:e.headY,parent:"head",f:Math.abs(e.headX/e.scale-e.AppleX/e.scale)+Math.abs(e.headY/e.scale-e.AppleY/e.scale),g:0}),n[e.headX/e.scale][e.headY/e.scale]=!0;for(var s=!1;a.length>0;){var r=0,l=a.reduce((function(e,a,n){return r=e.f<a.f?r:n,e.f<a.f?e:a}));if(a.splice(r,1),y(l).every((function(t){return t.x==e.AppleX&&t.y==e.AppleY?(t.parent=l,s=t,!1):(n[t.x/e.scale][t.y/e.scale]||(n[t.x/e.scale][t.y/e.scale]=!0,h(t),t.parent=l,a.push(t)),!0)})),s){m(x(s));break}}s||function(){var a={x:e.headX,y:e.headY,g:0,parent:"head"},n=a.g,t=a;if(0!=y(a).length){for(var c=[],s=0;s<e.canvasW/e.scale;s++){c[s]=[];for(var r=0;r<e.canvasH/e.scale;r++)c[s][r]=!1}!function a(s){var r=e.canvasH/e.scale*(e.canvasW/e.scale)-e.tail.length;c[s.x/e.scale][s.y/e.scale]||n>r/2||(c[s.x/e.scale][s.y/e.scale]=!0,s.g>n&&(n=s.g,t=s),y(s).forEach((function(e){e.parent=s,a(e)})))}(a),console.log(n),m(x(t))}}()}function g(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}u.classList.add("score-board"),u.innerText="00000";var k,T,b,A=function(){function e(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[]}var a,n;return a=e,(n=[{key:"enqueue",value:function(e){this.items.push(e)}},{key:"dequeue",value:function(){return this.items.shift()}},{key:"isEmpty",value:function(){return 0==this.items.length}}])&&g(a.prototype,n),e}();function w(){k=0;for(var a=new A,n=[],t=0;t<e.canvasW/e.scale;t++){n[t]=[];for(var c=0;c<e.canvasH/e.scale;c++)n[t][c]=!1}a.enqueue({x:e.headX,y:e.headY,parent:"head"});for(var s=!1;!a.isEmpty();){var r=a.dequeue();if(C(r).every((function(t){return t.x==e.AppleX&&t.y==e.AppleY?(t.parent=r,s=t,!1):(n[t.x/e.scale][t.y/e.scale]||(n[t.x/e.scale][t.y/e.scale]=!0,t.parent=r,a.enqueue(t),setTimeout(Y,k,t,"#D3868C"),k+=5),!0)})),s){X(s);break}}}function X(e){if("head"==e.parent)return setTimeout(Y,k,e,"#2B8C34"),void(k+=20);X(e.parent),setTimeout(Y,k,e,"#2B8C34"),k+=20}function Y(a,n){var t=a.x,c=a.y;o.fillStyle=n,o.fillRect(t,c,e.scale,e.scale),r.draw(o)}function C(a){var n=a.x,t=a.y;if(n<0||t<0||n>=e.canvasW||t>=e.canvasH)return[];var c=[],s={x:n-e.scale,y:t},l={x:n+e.scale,y:t},i={x:n,y:t-e.scale},o={x:n,y:t+e.scale};return i.y>=0&&!r.onSnake(i)&&c.push(i),l.x<e.canvasW&&!r.onSnake(l)&&c.push(l),i.y<e.canvasH&&!r.onSnake(o)&&c.push(o),s.x>=0&&!r.onSnake(s)&&c.push(s),c}function E(a){switch(a.code){case"Space":b(),e.gameOver&&(e.isRunning=!1,T()),e.isRunning?T():T=function(){var a;function n(){clearTimeout(a)}return e.gameOver&&(o.clearRect(0,0,l.width,l.height),r.respawn(),i(),e.gameOver=!1),function t(){Date.now(),o.clearRect(0,0,l.width,l.height);var c=r.update();r.draw(o),a=setTimeout(t,1e3/e.gameSpeed),"Over"==c&&(n(),i=function(){var e=document.createElement("div");e.classList.add("game-over-text"),e.innerText="GAME OVER",document.body.appendChild(e);var a=document.createElement("div");return a.classList.add("restart-text"),a.innerText="Press SPACEBAR To Restart",document.body.appendChild(a),function(){e.remove(),a.remove()}}())}(),n}(),e.isRunning=!e.isRunning;break;case"ArrowUp":case"KeyW":e.xSpeed=0,e.ySpeed=-1,e.direction="u";break;case"ArrowDown":case"KeyS":e.xSpeed=0,e.ySpeed=1,e.direction="d";break;case"ArrowRight":case"KeyD":e.xSpeed=1,e.ySpeed=0,e.direction="r";break;case"ArrowLeft":case"KeyA":e.xSpeed=-1,e.ySpeed=0,e.direction="l"}}function R(e,a,n,t){var c=document.createElement("button");return c.classList=n,c.innerText=a,e.appendChild(c),c.addEventListener("click",(function(e){e.target.blur(),t()})),c}function W(e,a){var n=document.createElement("fieldset");n.classList.add(e);var t=document.createElement("legend");return t.innerText=a,n.appendChild(t),n}!function(){var e;document.body.appendChild(u),document.body.appendChild(l),(e=document.createElement("div")).classList.add("canvas-text"),e.classList.add("show"),e.innerText="Press SPACEBAR To Start",document.body.appendChild(e),b=function(){e.classList.remove("show")},window.addEventListener("keydown",E);var a=W("controls","Path Finders");document.body.appendChild(a),R(a,"Dijkstra's Algorithm","button",w),R(a,"A Star Algorithm","button",p);var n=W("auto-container","Auto Play");document.body.appendChild(n),R(n,"Use A-Star","button",S)}()}},function(e){"use strict";e(e.s=162)}]);